{% extends 'admin/model/list.html' %}


{% block title %}
  {{ admin_view.name }} | Administração -  SICEM-UFC
{% endblock %}


{% block head %}
  {{ super() }}
  {% include 'administracao/head.html' %}
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/administracao/listar.css') }}">
{% endblock %}


{% block page_body %}
  {% include 'administracao/topo.html' %}

  {% block body %}
    <div class="container">
      <h3 style="margin-top: 0px;">
        {{ admin_view.name }}
      </h3>
      {{ super() }} 
    </div>
  {% endblock %}
{% endblock %}


{% block tail %}
  {% include 'administracao/rodape.html' %}

  <script type="text/javascript" src="{{ url_for('static', filename='externo/filters.js') }}"></script>

  {% include 'administracao/form_scripts.html' %}

  {{ actionlib.script(_gettext('Please select at least one record.'),
                      actions,
                      actions_confirmation) }}

  <script language="javascript">
      (function($) {
          $('[data-role=tooltip]').tooltip({
              html: true,
              placement: 'bottom'
          });
          {% if filter_groups %}
              var filter = new AdminFilters(
                  '#filter_form', '.field-filters',
                  {{ filter_groups|tojson|safe }},
                  {{ active_filters|tojson|safe }}
              );
          {% endif %}
      })(jQuery);

      // Catch exception when closing dialog with <esc> key
      // and prevent accidental deletions.
      function safeConfirm(msg) {
        try {
          var isconfirmed = confirm(msg);
          if (isconfirmed == true) {
            return true;
          }
          else {
            return false;
          }
        }
        catch(err) {
          return false;
        }
      }
  </script>
{% endblock %}